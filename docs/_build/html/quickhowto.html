<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Model Views (Quick How to) &mdash; Flask AppBuilder</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Flask AppBuilder" href="index.html" />
    <link rel="next" title="Model Views on MongoDB" href="quickhowto_mongo.html" />
    <link rel="prev" title="Base Views" href="views.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">
  
  <a href="https://github.com/dpgaspar/Flask-AppBuilder"
     class="visible-desktop hidden-xs"><img
    id="gh-banner"
    style="position: absolute; top: 50px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
    alt="Fork me on GitHub"></a>
  <script>
    // Adjust banner height.
    $(function () {
      var navHeight = $(".navbar .container").css("height");
      $("#gh-banner").css("top", navHeight);
    });
  </script>


  <div id="navbar" class="navbar  navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Flask-AppBuilder</a>
        <span class="navbar-text navbar-version pull-left"><b>1.5.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="diagrams.html">Diagrams</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="fabmanager.html">Command Line Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Base Configuration</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="views.html">Base Views</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Model Views (Quick How to)</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickhowto_mongo.html">Model Views on MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickcharts.html">Chart Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickfiles.html">Model Views with Files and Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickminimal.html">Quick Minimal Application</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="relations.html">Model Relations</a></li>
<li class="toctree-l1"><a class="reference internal" href="actions.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="customizing.html">Customizing</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">Templates</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="generic_datasource.html">Generic Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="multipledbs.html">Multiple Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="i18n.html">i18n Translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_registration.html">User Registration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="versionmigration.html">Version Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Versions</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Model Views (Quick How to)</a><ul>
<li><a class="reference internal" href="#the-base-skeleton-application">The Base Skeleton Application</a></li>
<li><a class="reference internal" href="#simple-contacts-application">Simple contacts application</a></li>
<li><a class="reference internal" href="#define-your-models-models-py">Define your models (models.py)</a></li>
<li><a class="reference internal" href="#define-your-views-views-py">Define your Views (views.py)</a></li>
<li><a class="reference internal" href="#register-views-py">Register (views.py)</a></li>
<li><a class="reference internal" href="#exposed-methods">Exposed methods</a></li>
<li><a class="reference internal" href="#rest-api">REST API</a></li>
<li><a class="reference internal" href="#url-api">URL=/api</a></li>
<li><a class="reference internal" href="#url-api-read">URL=/api/read</a></li>
<li><a class="reference internal" href="#url-api-delete-pk">URL=/api/delete/&lt;PK&gt;</a></li>
<li><a class="reference internal" href="#extra-views">Extra Views</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="views.html" title="Previous Chapter: Base Views"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Base Views</span>
    </a>
  </li>
  <li>
    <a href="quickhowto_mongo.html" title="Next Chapter: Model Views on MongoDB"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Model Views o... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="model-views-quick-how-to">
<h1>Model Views (Quick How to)<a class="headerlink" href="#model-views-quick-how-to" title="Permalink to this headline">¶</a></h1>
<p>On this chapter we will create a very simple contacts application you can try a
<a class="reference external" href="http://flaskappbuilder.pythonanywhere.com/">Live Demo</a> (login with guest/welcome).</p>
<p>And the source code for this chapter on
<a class="reference external" href="https://github.com/dpgaspar/Flask-AppBuilder/tree/master/examples/quickhowto">examples</a></p>
<div class="section" id="the-base-skeleton-application">
<h2>The Base Skeleton Application<a class="headerlink" href="#the-base-skeleton-application" title="Permalink to this headline">¶</a></h2>
<p>If your working with the base skeleton application (take a look at the <a class="reference internal" href="installation.html"><em>Installation</em></a> chapter).</p>
<p>you now have the following directory structure:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;your project name&gt;/
    config.py : All the application&#39;s configuration
    app/
        __init__.py : Application&#39;s initialization
        models.py : Declare your database models here
        views.py  : Implement your views here
</pre></div>
</div>
<p>It&#8217;s very easy and fast to create an application out of the box, with detailed security.</p>
<p>Please take a look at github <a class="reference external" href="https://github.com/dpgaspar/Flask-AppBuilder/tree/master/examples">examples</a></p>
</div>
<div class="section" id="simple-contacts-application">
<h2>Simple contacts application<a class="headerlink" href="#simple-contacts-application" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s create a very simple contacts application.
F.A.B uses the excellent SQLAlchemy ORM package, and it&#8217;s Flask extension.
you should be familiar with it&#8217;s declarative syntax to define your database models on F.A.B.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since 1.3.0 there is partial support for <strong>MongoDB</strong> using MongoEngine. You can declare any <em>normalized</em>
database schema, just like on SQLAlchemy, and use ModelView and CharView&#8217;s exactly the same way. Next releases
will gradually support non normalized schemas for MongoDB.</p>
</div>
<p>On our example application we are going to define two tables,
a <em>Contact&#8217;s</em> table that will hold the contacts detailed information,
and a <em>ContactGroup</em> table to group our contacts or classify them.
We could additionally define a <em>Gender</em> table, to serve the role of enumerated values for &#8216;Male&#8217; and &#8216;Female&#8217;.</p>
<p>Although your not obliged to, i advise you to inherit your model classes from <strong>Model</strong> class.
Model class is exactly the same has Flask-SQLALchemy <strong>db.Model</strong> but without the underlying connection.
You can of course inherit from <strong>db.Model</strong> normal Flask-SQLAlchemy.
The reason for this is that <strong>Model</strong> is on the same declarative space of F.A.B.
and using it will allow you to define relations to User&#8217;s.</p>
<p>You can add automatic <em>Audit</em> triggered columns to your models,
by inherit them from <em>AuditMixin</em> also. (see <a class="reference internal" href="api.html"><em>API Reference</em></a>)</p>
<p>So, first we are going to create a <em>ContactGroup</em> model, to group our contacts</p>
</div>
<div class="section" id="define-your-models-models-py">
<h2>Define your models (models.py)<a class="headerlink" href="#define-your-models-models-py" title="Permalink to this headline">¶</a></h2>
<p>The <em>ContactGroup</em> model.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">,</span> <span class="n">Date</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">relationship</span>
<span class="kn">from</span> <span class="nn">flask.ext.appbuilder</span> <span class="kn">import</span> <span class="n">Model</span>

<span class="k">class</span> <span class="nc">ContactGroup</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">unique</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
<p>The <em>Contacts</em> table.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Contact</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span>  <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">150</span><span class="p">),</span> <span class="n">unique</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">address</span> <span class="o">=</span>  <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">564</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="s">&#39;Street &#39;</span><span class="p">)</span>
    <span class="n">birthday</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Date</span><span class="p">)</span>
    <span class="n">personal_phone</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
    <span class="n">personal_celphone</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
    <span class="n">contact_group_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s">&#39;contact_group.id&#39;</span><span class="p">))</span>
    <span class="n">contact_group</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s">&quot;ContactGroup&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
<p>Notice that SqlAlchemy properties used here like &#8216;unique&#8217;, &#8216;nullable&#8217; and &#8216;default&#8217;, will have special
treatment. In this case when adding a new <em>Contact</em> a query will be made to validate
if someone with the same name already exists. Empty name contacts will not be allowed. Column types
are validated. The address field will contain &#8216;Street&#8217; has default on add form.
You can add your own custom validations also, take a look at <a class="reference internal" href="advanced.html"><em>Advanced Configuration</em></a></p>
</div>
<div class="section" id="define-your-views-views-py">
<h2>Define your Views (views.py)<a class="headerlink" href="#define-your-views-views-py" title="Permalink to this headline">¶</a></h2>
<p>Now we are going to define our view for <em>ContactGroup</em> model.
This view will setup functionality for create, remove, update and show primitives for your model&#8217;s definition.</p>
<p>Inherit from <em>ModelView</em> class that inherits from <em>BaseCRUDView</em> that inherits from <em>BaseModelView</em>,
so you can override all their public properties to configure many details for your CRUD primitives.
take a look at <a class="reference internal" href="advanced.html"><em>Advanced Configuration</em></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask.ext.appbuilder</span> <span class="kn">import</span> <span class="n">ModelView</span>
<span class="kn">from</span> <span class="nn">flask.ext.appbuilder.models.sqla.interface</span> <span class="kn">import</span> <span class="n">SQLAInterface</span>

<span class="k">class</span> <span class="nc">GroupModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">ContactGroup</span><span class="p">)</span>
    <span class="n">related_views</span> <span class="o">=</span> <span class="p">[</span><span class="n">ContactModelView</span><span class="p">]</span>
</pre></div>
</div>
<p>I hope this was easy enough! Some questions may arise...</p>
<p>Must have properties:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">datamodel:</th><td class="field-body">is the db abstraction layer. Initialize it with your view&#8217;s model.</td>
</tr>
</tbody>
</table>
<p>Optional properties:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">related_views:</th><td class="field-body">if you want a master/detail view on the show and edit. F.A.B.
will relate 1/N relations automatically, it will display a show or edit view with tab (or accordion) with a list related record. You can relate charts also.</td>
</tr>
</tbody>
</table>
<p>This is the most basic configuration (with an added related view).</p>
<p>But where is ContactModelView ? (that was a reference in <em>related_views</em> list)</p>
<p>Let&#8217;s define it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ContactModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">Contact</span><span class="p">)</span>

    <span class="n">label_columns</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;contact_group&#39;</span><span class="p">:</span><span class="s">&#39;Contacts Group&#39;</span><span class="p">}</span>
    <span class="n">list_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="s">&#39;personal_celphone&#39;</span><span class="p">,</span><span class="s">&#39;birthday&#39;</span><span class="p">,</span><span class="s">&#39;contact_group&#39;</span><span class="p">]</span>

    <span class="n">show_fieldsets</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s">&#39;Summary&#39;</span><span class="p">,{</span><span class="s">&#39;fields&#39;</span><span class="p">:[</span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="s">&#39;address&#39;</span><span class="p">,</span><span class="s">&#39;contact_group&#39;</span><span class="p">]}),</span>
        <span class="p">(</span><span class="s">&#39;Personal Info&#39;</span><span class="p">,{</span><span class="s">&#39;fields&#39;</span><span class="p">:[</span><span class="s">&#39;birthday&#39;</span><span class="p">,</span><span class="s">&#39;personal_phone&#39;</span><span class="p">,</span><span class="s">&#39;personal_celphone&#39;</span><span class="p">],</span><span class="s">&#39;expanded&#39;</span><span class="p">:</span><span class="bp">False</span><span class="p">}),</span>
        <span class="p">]</span>
</pre></div>
</div>
<p>Some explanation:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">label_columns:</th><td class="field-body">defines the labels for your columns.
The framework will define the missing ones for you, with a pretty version of your column names.</td>
</tr>
<tr class="field-even field"><th class="field-name">show_fieldsets:</th><td class="field-body">A fieldset (Django style). You can use show_fieldsets, add_fieldsets, edit_fieldsets
customize the show, add and edit views independently.</td>
</tr>
</tbody>
</table>
<p>Additionally you can customize what columns are displayed and their order on lists and forms.
Remember you can include columns, relations or methods from a model&#8217;s definition. If you have a long
list of columns and want to exclude just a few from add/edit/show form you can use the exclude columns
property:</p>
<span class="target" id="module-flask.ext.appbuilder.baseviews"></span><dl class="class">
<dt id="flask.ext.appbuilder.baseviews.BaseCRUDView">
<em class="property">class </em><code class="descclassname">flask.ext.appbuilder.baseviews.</code><code class="descname">BaseCRUDView</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_appbuilder/baseviews.html#BaseCRUDView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseCRUDView" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for ModelView, all properties are inherited
Customize ModelView overriding this properties</p>
<dl class="attribute">
<dt id="flask.ext.appbuilder.baseviews.BaseCRUDView.add_columns">
<code class="descname">add_columns</code><em class="property"> = None</em><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseCRUDView.add_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of columns (or model&#8217;s methods) to be displayed on the add form view.
Use it to control the order of the display</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.ext.appbuilder.baseviews.BaseCRUDView.add_exclude_columns">
<code class="descname">add_exclude_columns</code><em class="property"> = None</em><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseCRUDView.add_exclude_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of columns to exclude from the add form. By default all columns are included.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.ext.appbuilder.baseviews.BaseCRUDView.edit_columns">
<code class="descname">edit_columns</code><em class="property"> = None</em><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseCRUDView.edit_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of columns (or model&#8217;s methods) to be displayed on the edit form view.
Use it to control the order of the display</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.ext.appbuilder.baseviews.BaseCRUDView.edit_exclude_columns">
<code class="descname">edit_exclude_columns</code><em class="property"> = None</em><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseCRUDView.edit_exclude_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of columns to exclude from the edit form. By default all columns are included.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.ext.appbuilder.baseviews.BaseCRUDView.list_columns">
<code class="descname">list_columns</code><em class="property"> = None</em><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseCRUDView.list_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of columns (or model&#8217;s methods) to be displayed on the list view.
Use it to control the order of the display</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.ext.appbuilder.baseviews.BaseCRUDView.show_columns">
<code class="descname">show_columns</code><em class="property"> = None</em><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseCRUDView.show_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of columns (or model&#8217;s methods) to be displayed on the show view.
Use it to control the order of the display</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.ext.appbuilder.baseviews.BaseCRUDView.show_exclude_columns">
<code class="descname">show_exclude_columns</code><em class="property"> = None</em><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseCRUDView.show_exclude_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of columns to exclude from the show view. By default all columns are included.</p>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<p>You can also control which columns will be included on search, use the same logic for this:</p>
<span class="target" id="module-flask.ext.appbuilder.baseviews"></span><dl class="class">
<dt id="flask.ext.appbuilder.baseviews.BaseModelView">
<em class="property">class </em><code class="descclassname">flask.ext.appbuilder.baseviews.</code><code class="descname">BaseModelView</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flask_appbuilder/baseviews.html#BaseModelView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseModelView" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class of ModelView and ChartView, all properties are inherited
Customize ModelView and ChartView overriding this properties</p>
<p>This class supports all the basics for query</p>
<dl class="attribute">
<dt id="flask.ext.appbuilder.baseviews.BaseModelView.search_columns">
<code class="descname">search_columns</code><em class="property"> = None</em><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseModelView.search_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>List with allowed search columns, if not provided all possible search columns will be used
If you want to limit the search (<em>filter</em>) columns possibilities, define it with a list of column names from your model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">MyTable</span><span class="p">)</span>
    <span class="n">search_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="s">&#39;address&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="flask.ext.appbuilder.baseviews.BaseModelView.search_exclude_columns">
<code class="descname">search_exclude_columns</code><em class="property"> = None</em><a class="headerlink" href="#flask.ext.appbuilder.baseviews.BaseModelView.search_exclude_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>List with columns to exclude from search. Search includes all possible columns by default</p>
</dd></dl>

</dd></dl>

<p>You can easily use builtin alternative look, using widgets
take a look at the <a class="reference external" href="https://github.com/dpgaspar/Flask-AppBuilder/tree/master/examples/widgets">widgets</a> example.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Fields that reference relationships, will display the defined related model representation
(on this case __repr__() methods on ContactGroup Model), so by default these fields can&#8217;t be ordered.
To enable order by on a list for relationship fields, you can (since 1.1.1) reference
them using dotted notation. On this example you can reference them using &#8216;contact_group.name&#8217;.</p>
</div>
</div>
<div class="section" id="register-views-py">
<h2>Register (views.py)<a class="headerlink" href="#register-views-py" title="Permalink to this headline">¶</a></h2>
<p>Register everything, to present the models and create the menu. Issue <strong>create_all</strong> to create your models also.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">db</span><span class="o">.</span><span class="n">create_all</span><span class="p">()</span>
<span class="n">appbuilder</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="n">GroupModelView</span><span class="p">,</span> <span class="s">&quot;List Groups&quot;</span><span class="p">,</span><span class="n">icon</span> <span class="o">=</span> <span class="s">&quot;fa-folder-open-o&quot;</span><span class="p">,</span><span class="n">category</span> <span class="o">=</span> <span class="s">&quot;Contacts&quot;</span><span class="p">,</span>
                <span class="n">category_icon</span> <span class="o">=</span> <span class="s">&quot;fa-envelope&quot;</span><span class="p">)</span>
<span class="n">appbuilder</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="n">ContactModelView</span><span class="p">,</span> <span class="s">&quot;List Contacts&quot;</span><span class="p">,</span><span class="n">icon</span> <span class="o">=</span> <span class="s">&quot;fa-envelope&quot;</span><span class="p">,</span><span class="n">category</span> <span class="o">=</span> <span class="s">&quot;Contacts&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Take a look at the <a class="reference internal" href="api.html"><em>API Reference</em></a> for add_view method.</p>
<p>You can find this example at: <a class="reference external" href="https://github.com/dpgaspar/Flask-AppBuilder/tree/master/examples/quickhowto">https://github.com/dpgaspar/Flask-AppBuilder/tree/master/examples/quickhowto</a></p>
<p>Live quickhowto <a class="reference external" href="http://flaskappbuilder.pythonanywhere.com/">Demo</a> (login with guest/welcome).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The icons for the menu on this example are from font-awesome,
Checkout fontAwesome <a class="reference external" href="http://fontawesome.io/icons/">Icons</a>  names.
Font-Awesome is already included and you can use any icon you like on menus and actions</p>
</div>
<p>With this very few lines of code (and could be fewer), you now have a web application
with detailed security for each CRUD primitives and Menu options, authentication,
and form field validation. Yet you can extensively change many details,
add your own triggers before or after CRUD primitives, develop your own web views and integrate them.</p>
<p>Some images:</p>
<a class="reference internal image-reference" href="_images/login_db.png"><img alt="_images/login_db.png" src="_images/login_db.png" style="width: 100%;" /></a>
<a class="reference internal image-reference" href="_images/group_list.png"><img alt="_images/group_list.png" src="_images/group_list.png" style="width: 100%;" /></a>
<a class="reference internal image-reference" href="_images/contact_list.png"><img alt="_images/contact_list.png" src="_images/contact_list.png" style="width: 100%;" /></a>
</div>
<div class="section" id="exposed-methods">
<h2>Exposed methods<a class="headerlink" href="#exposed-methods" title="Permalink to this headline">¶</a></h2>
<p>Your <strong>ModelView</strong> classes expose the following methods has flask endpoints</p>
<ul class="simple">
<li>list</li>
<li>show</li>
<li>add</li>
<li>edit</li>
<li>delete</li>
<li>download</li>
<li>action</li>
<li>API methods</li>
</ul>
<p>This exposes a REST API (not completely strict). You also have an AJAX REST API.
Each method as it&#8217;s own security permission, so you can control accesses at this level.</p>
<p>The API methods take the same arguments as list, show, add, edit and delete, but return JSON and HTTP return codes
is case of success or errors, take a close look at the following table for a description of each method.</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="59%" />
<col width="18%" />
<col width="9%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">URL</th>
<th class="head">Description</th>
<th class="head">Permission Name</th>
<th class="head">HTTP</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>/api</td>
<td>Return the existing API URL&#8217;s</td>
<td>can_list</td>
<td>GET</td>
</tr>
<tr class="row-odd"><td>/api/read</td>
<td>Queries models data, receives args as list</td>
<td>can_list</td>
<td>GET</td>
</tr>
<tr class="row-even"><td>/api/column</td>
<td>Returns results for related column</td>
<td>can_list</td>
<td>GET</td>
</tr>
<tr class="row-odd"><td>/api/create</td>
<td>Receives a form as POST and creates record</td>
<td>can_add</td>
<td>POST</td>
</tr>
<tr class="row-even"><td>/api/update</td>
<td>Receives a form as PUT and updates record</td>
<td>can_edit</td>
<td>PUT</td>
</tr>
<tr class="row-odd"><td>/api/delete</td>
<td>Deletes record</td>
<td>can_delete</td>
<td>DELETE</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rest-api">
<h2>REST API<a class="headerlink" href="#rest-api" title="Permalink to this headline">¶</a></h2>
<p>This API is still BETA and will be subject to change. In the future F.A.B. will probably use AngularJS
to display the UI interface using AJAX.</p>
</div>
<div class="section" id="url-api">
<h2>URL=/api<a class="headerlink" href="#url-api" title="Permalink to this headline">¶</a></h2>
<p>The root of the API returns information about the available methods, like their URL&#8217;s using url_for from Flask.
The users permissions on this view, labels etc...</p>
<p>Let&#8217;s take a close look at the returned JSON structure from this method. The returned object is a dictionary containing
the following keys:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">api_urls:</th><td class="field-body">Dictionary with All builtin CRUD methods and their URL&#8217;s</td>
</tr>
<tr class="field-even field"><th class="field-name">can_add:</th><td class="field-body">User&#8217;s permission on this view. Returns true or false.</td>
</tr>
<tr class="field-odd field"><th class="field-name">can_delete:</th><td class="field-body">User&#8217;s permission on this view. Returns true or false.</td>
</tr>
<tr class="field-even field"><th class="field-name">can_edit:</th><td class="field-body">User&#8217;s permission on this view. Returns true or false.</td>
</tr>
<tr class="field-odd field"><th class="field-name">can_show:</th><td class="field-body">User&#8217;s permission on this view. Returns true or false.</td>
</tr>
<tr class="field-even field"><th class="field-name">can_update:</th><td class="field-body">User&#8217;s permission on this view. Returns true or false.</td>
</tr>
<tr class="field-odd field"><th class="field-name">label_columns:</th><td class="field-body">Dictionary for label_columns exactly equal as the ModelView property</td>
</tr>
<tr class="field-even field"><th class="field-name">list_columns:</th><td class="field-body">The columns to use when listing.</td>
</tr>
<tr class="field-odd field"><th class="field-name">modelview_name:</th><td class="field-body">The name of the ModelView class.</td>
</tr>
<tr class="field-even field"><th class="field-name">modelview_urls:</th><td class="field-body">Dictionary with the UI&#8217;s URLS for Add, Edit and Show.</td>
</tr>
<tr class="field-odd field"><th class="field-name">order_columns:</th><td class="field-body">List with the columns allowed to do order by commands.</td>
</tr>
<tr class="field-even field"><th class="field-name">page_size:</th><td class="field-body">The default page size.</td>
</tr>
<tr class="field-odd field"><th class="field-name">search_fields:</th><td class="field-body">Dictionary with column names as keys, and WTForm html fields as values.</td>
</tr>
<tr class="field-even field"><th class="field-name">search_filters:</th><td class="field-body">Dictionary with column names as keys and a List with allowed operations for filters as values.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="url-api-read">
<h2>URL=/api/read<a class="headerlink" href="#url-api-read" title="Permalink to this headline">¶</a></h2>
<p>This is the read method of the API, will query your model with filter, ordering and paging operations.</p>
<p>Let&#8217;s take a close look at the returned JSON structure from this method. The returned object is a dictionary containing
the following keys:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">count:</th><td class="field-body">Returns an Int with the total number of records.</td>
</tr>
<tr class="field-even field"><th class="field-name">label_columns:</th><td class="field-body">Dictionary for label_columns exactly equal as the ModelView property</td>
</tr>
<tr class="field-odd field"><th class="field-name">list_columns:</th><td class="field-body">The columns to use when listing.</td>
</tr>
<tr class="field-even field"><th class="field-name">modelview_name:</th><td class="field-body">The name of the ModelView class.</td>
</tr>
<tr class="field-odd field"><th class="field-name">order_columns:</th><td class="field-body">List with the columns allowed to do order by commands.</td>
</tr>
<tr class="field-even field"><th class="field-name">page:</th><td class="field-body">Returns an Int, with the page on some page size where the result is located.</td>
</tr>
<tr class="field-odd field"><th class="field-name">page_size:</th><td class="field-body">Returns an Int with the current page size.</td>
</tr>
<tr class="field-even field"><th class="field-name">pks:</th><td class="field-body">Returns a List with the results private keys.</td>
</tr>
<tr class="field-odd field"><th class="field-name">result:</th><td class="field-body">Returns a List with a dictionary for each record.</td>
</tr>
</tbody>
</table>
<p>This method accepts as parameters the following:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Set page size:</th><td class="field-body">_psize_&lt;YOUR MODEL VIEW&gt;=&lt;PAGE SIZE&gt;</td>
</tr>
<tr class="field-even field"><th class="field-name">Set page:</th><td class="field-body">_page_&lt;YOUR MODEL VIEW&gt;=&lt;PAGE&gt;</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Order by column:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">_oc_&lt;&lt;YOUR MODEL VIEW&gt;=&lt;COLUMN NAME&gt;</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Order by direction:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">_od_&lt;&lt;YOUR MODEL VIEW&gt;=&lt;asc|desc&gt;</td>
</tr>
<tr class="field-odd field"><th class="field-name">Filters:</th><td class="field-body">_flt_&lt;INDEX of the search operations for this column&gt;_&lt;COLUMN NANE&gt;=&lt;VALUE&gt; example: _flt_0_name=A</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="url-api-delete-pk">
<h2>URL=/api/delete/&lt;PK&gt;<a class="headerlink" href="#url-api-delete-pk" title="Permalink to this headline">¶</a></h2>
<p>Deletes a record from the model only accepts HTTP DELETE operations. if you want to delete a record with 8 as primary
key issue an HTTP DELETE to the following URL: htpp://localhost:8080/contactmodelview/delete/8</p>
<p>It will return a dictionary that on case of success will have the folowing keys (returns HTTP 200):</p>
<p>{
&#8220;message&#8221;: &#8220;Deleted Row&#8221;,
&#8220;severity&#8221;: &#8220;success&#8221;
}</p>
<p>In case of error (returns HTTP 500):</p>
<p>{
&#8220;message&#8221;: &#8220;General Error &lt;class &#8216;sqlalchemy.orm.exc.UnmappedInstanceError&#8217;&gt;&#8221;,
&#8220;severity&#8221;: &#8220;danger&#8221;
}</p>
</div>
<div class="section" id="extra-views">
<h2>Extra Views<a class="headerlink" href="#extra-views" title="Permalink to this headline">¶</a></h2>
<p>F.A.B. as some extra views like <strong>ModelView</strong> but with different behaviours. You can radically change the way a ModelView
looks like using various approaches like changing CRUD templates or widgets, CSS, inserting or injecting your own
HTML etc, take a look at <a class="reference internal" href="templates.html"><em>Templates</em></a>, <a class="reference internal" href="advanced.html"><em>Advanced Configuration</em></a>, <a class="reference internal" href="customizing.html"><em>Customizing</em></a>.</p>
<p>Yet the framework brings 3 extra subclasses from BaseCRUDView (<strong>ModelView</strong> is a subclass of <strong>BaseCRUDView</strong>, this means
that it implements complete CRUD based on models as well as JSON exposure). This views implement alternative CRUD GUI.</p>
<p>For rendering multiple views (subclasses of BaseModelView) on the same page use <strong>MultipleView</strong>.
Using our previous example you could render the Group list and Contact list on the same page, to do it
add the following view after the definition of <strong>GroupModelView</strong> and <strong>ContactModelView</strong>:</p>
<p>First remember to import:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask.ext.appbuilder</span> <span class="kn">import</span> <span class="n">MultipleView</span>
</pre></div>
</div>
<p>Then define your View:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MultipleViewsExp</span><span class="p">(</span><span class="n">MultipleView</span><span class="p">):</span>
    <span class="n">views</span> <span class="o">=</span> <span class="p">[</span><span class="n">GroupModelView</span><span class="p">,</span> <span class="n">ContactModelView</span><span class="p">]</span>
</pre></div>
</div>
<p>Then register the view with a menu:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">appbuilder</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="n">MultipleViewsExp</span><span class="p">,</span> <span class="s">&quot;Multiple Views&quot;</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="s">&quot;fa-envelope&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s">&quot;Contacts&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can render as many views on the same page as you want, this includes Chart type views also,
take a look at <a class="reference internal" href="quickcharts.html"><em>Chart Views</em></a> to learn about Chart views.</p>
<p>Another interesting alternative view is the <strong>MasterDetailView</strong> as the name implies it implements a master detail
GUI, it will render a menu version of a chosen model and then relate with a previous defined BaseModelView subclass
of you choice.
Again using the Contact application example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GroupMasterView</span><span class="p">(</span><span class="n">MasterDetailView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">ContactGroup</span><span class="p">)</span>
    <span class="n">related_views</span> <span class="o">=</span> <span class="p">[</span><span class="n">ContactModelView</span><span class="p">]</span>
</pre></div>
</div>
<p>The datamodel is the master and the <strong>related_views</strong> property are the views to be filtered by the user&#8217;s selection
of the group. You can define as many detail views as you like and again you can even include Chart type views
(they are subclasses of BaseModelView), remember there must be a model relation between the master and the details,
and again the framework will figure out how to relate them by inspecting the backend defined relationships.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Daniel Vaz Gaspar.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>