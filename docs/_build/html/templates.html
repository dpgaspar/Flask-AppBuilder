<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Templates &mdash; Flask AppBuilder</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Flask AppBuilder" href="index.html" />
    <link rel="next" title="Generic Data Sources" href="generic_datasource.html" />
    <link rel="prev" title="Customizing" href="customizing.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">
  
  <a href="https://github.com/dpgaspar/Flask-AppBuilder"
     class="visible-desktop hidden-xs"><img
    id="gh-banner"
    style="position: absolute; top: 50px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
    alt="Fork me on GitHub"></a>
  <script>
    // Adjust banner height.
    $(function () {
      var navHeight = $(".navbar .container").css("height");
      $("#gh-banner").css("top", navHeight);
    });
  </script>


  <div id="navbar" class="navbar  navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Flask-AppBuilder</a>
        <span class="navbar-text navbar-version pull-left"><b>1.5.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="diagrams.html">Diagrams</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="fabmanager.html">Command Line Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Base Configuration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="views.html">Base Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickhowto.html">Model Views (Quick How to)</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickhowto_mongo.html">Model Views on MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickcharts.html">Chart Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickfiles.html">Model Views with Files and Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickminimal.html">Quick Minimal Application</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="relations.html">Model Relations</a></li>
<li class="toctree-l1"><a class="reference internal" href="actions.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="customizing.html">Customizing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Templates</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="generic_datasource.html">Generic Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="multipledbs.html">Multiple Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="i18n.html">i18n Translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_registration.html">User Registration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="versionmigration.html">Version Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Versions</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Templates</a><ul>
<li><a class="reference internal" href="#css-and-javascript">CSS and Javascript</a></li>
<li><a class="reference internal" href="#navigation-bar">Navigation Bar</a></li>
<li><a class="reference internal" href="#list-templates">List Templates</a></li>
<li><a class="reference internal" href="#add-templates">Add Templates</a></li>
<li><a class="reference internal" href="#edit-templates">Edit Templates</a></li>
<li><a class="reference internal" href="#show-templates">Show Templates</a></li>
<li><a class="reference internal" href="#edit-show-cascade-templates">Edit/Show Cascade Templates</a></li>
<li><a class="reference internal" href="#widgets">Widgets</a></li>
<li><a class="reference internal" href="#library-functions">Library Functions</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="customizing.html" title="Previous Chapter: Customizing"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Customizing</span>
    </a>
  </li>
  <li>
    <a href="generic_datasource.html" title="Next Chapter: Generic Data Sources"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Generic Data ... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="templates">
<h1>Templates<a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h1>
<p>F.A.B. uses jinja2, all the framework templates can be overridden entirely or partially.
This way you can add your own html on jinja2 templates.
This can be done before or after defined blocks on the page,
without the need of developing a template from scratch because you just want to add small changes on it.
Next is a quick description on how you can do this</p>
<div class="section" id="css-and-javascript">
<h2>CSS and Javascript<a class="headerlink" href="#css-and-javascript" title="Permalink to this headline">¶</a></h2>
<p>To add your own CSS&#8217;s or javascript application wide.
You will need to tell the framework to use your own base <em>jinja2</em> template, this
template is extended by all the templates. It&#8217;s very simple, first create your own
template on you <strong>templates</strong> directory.</p>
<p>On a simple application structure create <em>mybase.html</em> (or whatever name you want):</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;my_project&gt;
    &lt;app&gt;
        __init__.py
        models.py
        views.py
        &lt;templates&gt;
            **mybase.html**
</pre></div>
</div>
<p>Then on mybase.html add your js files and css files, use <strong>head_css</strong> for css&#8217;s and <strong>head_js</strong> for javascript.
These are <em>jinja2</em> blocks, F.A.B. uses them so that you can override or extend critical parts of the default
templates, making it easy to change the UI, without having to develop your own from scratch:</p>
<div class="highlight-python"><div class="highlight"><pre>{% extends &#39;appbuilder/baselayout.html&#39; %}

{% block head_css %}
    {{ super() }}
    &lt;script src=&quot;{{url_for(&#39;static&#39;,filename=&#39;css/your_css_file.js&#39;)}}&quot;&gt;&lt;/script&gt;
{% endblock %}

{% block head_js %}
    {{ super() }}
    &lt;script src=&quot;{{url_for(&#39;static&#39;,filename=&#39;js/your_js_file.js&#39;)}}&quot;&gt;&lt;/script&gt;
{% endblock %}
</pre></div>
</div>
<p>If you want to import your javascript files at the end of the templates use <strong>tail_js</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>{% block tail_js %}
    {{ super() }}
    &lt;script src=&quot;{{url_for(&#39;static&#39;,filename=&#39;js/your_js_file.js&#39;)}}&quot;&gt;&lt;/script&gt;
{% endblock %}
</pre></div>
</div>
<p>Finally tell the framework to use it, instead of the default base template,
when initializing on __init__.py use the <em>base_template</em> parameter:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">appbuilder</span> <span class="o">=</span> <span class="n">AppBuilder</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="p">,</span> <span class="n">base_template</span><span class="o">=</span><span class="s">&#39;mybase.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You have an example that changes the way the menu is displayed on
<a class="reference external" href="https://github.com/dpgaspar/Flask-AppBuilder/tree/master/examples/quicktemplates">examples</a></p>
<p>This main structure of jinja2 on the baselayout template is:</p>
<div class="highlight-python"><div class="highlight"><pre>{% block head_meta %}
    ... HTML Meta
{% endblock %}
{% block head_css %}
    ... CSS imports (bootstrap, fontAwesome, select2, fab specific etc...
{% endblock %}
{% block head_js %}
    ... JS imports (JQuery, fab specific)
{% endblock %}
{% block body %}
    {% block navbar %}
        ... The navigation bar (Menu)
    {% endblock %}
     {% block messages %}
        ... Where the flask flash messages are shown (&quot;Added row&quot;, etc)
      {% endblock %}
      {% block content %}
        ... All the content goes here, forms, lists, index, charts etc..
      {% endblock %}
    {% block footer %}
        ... The footer, by default its almost empty.
    {% endblock %}
{% block tail_js %}
{% endblock %}
</pre></div>
</div>
</div>
<div class="section" id="navigation-bar">
<h2>Navigation Bar<a class="headerlink" href="#navigation-bar" title="Permalink to this headline">¶</a></h2>
<p>Theres also the possibility to customize the navigation bar.
You can completely override it, or just partially.</p>
<p>To completely override the navigation bar, implement your own base layout as described earlier
and then extend the existing one and override the <strong>navbar</strong> block</p>
<p>As an example, lets say you created your own base layout named <strong>my_layout.html</strong>
on your <strong>templates</strong> folder:</p>
<div class="highlight-python"><div class="highlight"><pre>{% extends &#39;appbuilder/baselayout.html&#39; %}

{% block navbar %}
    &lt;div class=&quot;navbar&quot; role=&quot;navigation&quot;&gt;
       &lt;div class=&quot;container&quot;&gt;
            &lt;div class=&quot;navbar-header&quot;&gt;
                    ....
            &lt;/div&gt;
            &lt;div class=&quot;navbar-collapse collapse&quot;&gt;
                    ....
            &lt;/div&gt;
       &lt;/div&gt;
    &lt;/div&gt;
{% endblock %}
</pre></div>
</div>
<p>Remember to tell Flask-Appbuilder to use your layout instead (previous chapter)</p>
<p>The best way to just override the navbar partially is to override the existing templates
from the framework. You can always do this with any template. There are two good candidates for this:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">/templates/appbuilder/navbar_menu.html:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">This will render the navbar menus.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">/templates/appbuilder/navbar_right.html:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">This will render the right part of the navigation bar (locale and user).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="list-templates">
<h2>List Templates<a class="headerlink" href="#list-templates" title="Permalink to this headline">¶</a></h2>
<p>Using the contacts app example, we are going to see how to override or insert jinja2 on specific sections
of F.A.B. list template. Remember that the framework uses templates with generated widgets, this widgets are big
widgets, because they render entire sections of a page.
On list&#8217;s of records you will have two widgets, the search widget, and the list widget. You will have
a template with the following sections, where you can add your template sections over, before and after
each block:</p>
<ul>
<li><dl class="first docutils">
<dt>List template</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Block &#8220;content&#8221;</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Block &#8220;list_search&#8221;</dt>
<dd><ul class="first last simple">
<li>Search Widget</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;list_search&#8221;</p>
</li>
<li><dl class="first docutils">
<dt>Block &#8220;list_list&#8221;</dt>
<dd><ul class="first last simple">
<li>List Widget</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;list_list&#8221;</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;content&#8221;</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>To insert your template section over a block, say &#8220;list_search&#8221; just do:</p>
<div class="highlight-python"><div class="highlight"><pre>{% extends &quot;appbuilder/general/model/list.html&quot; %}

    {% block list_search scoped %}
        This Text will replace the search widget
    {% endblock %}
</pre></div>
</div>
<p>To insert your template section after a block do:</p>
<div class="highlight-python"><div class="highlight"><pre>{% extends &quot;appbuilder/general/model/list.html&quot; %}

    {% block list_search scoped %}
        {{ super() }}
        This Text will show after the search widget
    {% endblock %}
</pre></div>
</div>
<p>I guess you get the general ideal, make use of {{ super() }} to render the block&#8217;s original content.
To use your templates override <strong>list_template</strong> to your templates relative path, on your ModelView&#8217;s declaration.</p>
<p>If you have your template on ./your_project/app/templates/list_contacts.html</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ContactModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">Contact</span><span class="p">)</span>
    <span class="n">list_template</span> <span class="o">=</span> <span class="s">&#39;list_contacts.html&#39;</span>
</pre></div>
</div>
<p>On your template you can do something like this</p>
<div class="highlight-python"><div class="highlight"><pre>{% extends &quot;appbuilder/general/model/list.html&quot; %}

{% block content %}
    Text on top of the page
    {{ super() }}
    {% block list_search scoped %}
        Text before the search section
        {{ super() }}
    {% endblock %}

    {% block list_list scoped %}
        Text before the list
        {{ super() }}
    {% endblock %}
{% endblock %}
</pre></div>
</div>
</div>
<div class="section" id="add-templates">
<h2>Add Templates<a class="headerlink" href="#add-templates" title="Permalink to this headline">¶</a></h2>
<p>On this section we will see how to override the add template form.
You will have only one widget, the add form widget. So you will have
a template with the following sections. Where you can add your template sections over, before and after
each block:</p>
<ul>
<li><dl class="first docutils">
<dt>Add template</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Block &#8220;content&#8221;</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Block &#8220;add_form&#8221;</dt>
<dd><ul class="first last simple">
<li>Add Widget</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;add_form&#8221;</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;content&#8221;</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>To insert your template section before the a block, say &#8220;add_form&#8221; just create your own template like this:</p>
<div class="highlight-python"><div class="highlight"><pre>{% extends &quot;appbuilder/general/model/add.html&quot; %}

    {% block add_form %}
        This Text is before the add form widget
        {{ super() }}
    {% endblock %}
</pre></div>
</div>
<p>To use your template define you ModelView with <strong>add_template</strong> declaration to your templates relative path</p>
<p>If you have your template on ./your_project/app/templates/add_contacts.html</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ContactModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">Contact</span><span class="p">)</span>

    <span class="n">add_template</span> <span class="o">=</span> <span class="s">&#39;add_contacts.html&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="edit-templates">
<h2>Edit Templates<a class="headerlink" href="#edit-templates" title="Permalink to this headline">¶</a></h2>
<p>On this section we will see how to override the edit template form.
You will have only one widget the edit form widget, so you will have
a template with the following sections, where you can add your template sections over, before and after
each block:</p>
<ul>
<li><dl class="first docutils">
<dt>Add template</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Block &#8220;content&#8221;</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Block &#8220;edit_form&#8221;</dt>
<dd><ul class="first last simple">
<li>Edit Widget</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;edit_form&#8221;</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;content&#8221;</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>To insert your template section before the edit widget, just create your own template like this:</p>
<div class="highlight-python"><div class="highlight"><pre>{% extends &quot;appbuilder/general/model/edit.html&quot; %}

    {% block add_form %}
        This Text is before the add form widget
        {{ super() }}
    {% endblock %}
</pre></div>
</div>
<p>To use your template define you ModelView with <strong>edit_template</strong> declaration to your templates relative path</p>
<p>If you have your template on ./your_project/app/templates/edit_contacts.html</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ContactModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">Contact</span><span class="p">)</span>

    <span class="n">edit_template</span> <span class="o">=</span> <span class="s">&#39;edit_contacts.html&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="show-templates">
<h2>Show Templates<a class="headerlink" href="#show-templates" title="Permalink to this headline">¶</a></h2>
<p>On this section we will see how to override the show template.
You will have only one widget the show widget, so you will have
a template with the following sections, where you can add your template sections over, before and after
each block:</p>
<ul>
<li><dl class="first docutils">
<dt>Show template</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Block &#8220;content&#8221;</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Block &#8220;show_form&#8221;</dt>
<dd><ul class="first last simple">
<li>Show Widget</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;show_form&#8221;</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;content&#8221;</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>To insert your template section before the a block, say &#8220;show_form&#8221; just create your own template like this:</p>
<div class="highlight-python"><div class="highlight"><pre>{% extends &quot;appbuilder/general/model/edit.html&quot; %}

    {% block show_form %}
        This Text is before the show widget
        {{ super() }}
    {% endblock %}
</pre></div>
</div>
<p>To use your template define you ModelView with <strong>edit_template</strong> declaration to your templates relative path</p>
<p>If you have your template on ./your_project/app/templates/edit_contacts.html</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ContactModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">Contact</span><span class="p">)</span>

    <span class="n">edit_template</span> <span class="o">=</span> <span class="s">&#39;edit_contacts.html&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="edit-show-cascade-templates">
<h2>Edit/Show Cascade Templates<a class="headerlink" href="#edit-show-cascade-templates" title="Permalink to this headline">¶</a></h2>
<p>On cascade templates for related views the above rules apply, but you can use an extra block
to insert your template code before, after or over the related view list widget.
For show cascade templates you have the following structure:</p>
<ul>
<li><dl class="first docutils">
<dt>Show template</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Block &#8220;content&#8221;</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Block &#8220;show_form&#8221;</dt>
<dd><ul class="first last simple">
<li>Show Widget</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;show_form&#8221;</p>
</li>
<li><dl class="first docutils">
<dt>Block &#8220;related_views&#8221;</dt>
<dd><ul class="first last simple">
<li>Related Views Widgets</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;related_views&#8221;</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">End Block &#8220;content&#8221;</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="widgets">
<h2>Widgets<a class="headerlink" href="#widgets" title="Permalink to this headline">¶</a></h2>
<p>Widgets are reusable, you can and should implement your own. Widgets are a special kind of jinja2
templates. They will be contained inside a python class, and rendered on a jinja2 template. So
<strong>list_template</strong>, <strong>add_template</strong>, <strong>edit_template</strong>, <strong>show_template</strong> will work like layouts
with widgets.</p>
<p>To create your own widgets follow the next recipe.</p>
<ul>
<li><p class="first">Make your own widget template, we are going to create a very simple list widget.
since version 1.4.1 list widgets extend <strong>base_list.html</strong> this will make your life
simpler, this base template declares the following blocks you should use, when implementing
your own widget for lists:</p>
<div class="highlight-python"><div class="highlight"><pre>{% block list_header scoped %}
    This is where the list controls are rendered, extend it to *inject* your own controls.
{% endblock %}

{% block begin_content scoped %}
    Area next to the controls
{% endblock %}

{% block begin_loop_header scoped %}
    Nice place to render your list headers.
{% endblock %}

{% block begin_loop_values %}
    Make your loop and render the list itself.
{% endblock %}
</pre></div>
</div>
</li>
</ul>
<p>Let&#8217;s make a simple example:</p>
<div class="highlight-python"><div class="highlight"><pre>{% import &#39;appbuilder/general/lib.html&#39; as lib %}
{% extends &#39;appbuilder/general/widgets/base_list.html&#39; %}

{% block list_header %}
   {{ super() }}
   &lt;a href=&quot;url_for(&#39;Class.method for my control&#39;)&quot; class=&quot;btn btn-sm btn-primary&quot;
        &lt;i class=&quot;fa fa-rocket&quot;&gt;&lt;/i&gt;
   &lt;/a&gt;
{% endblock %}

{% block begin_loop_values %}
    {% for item in value_columns %}
        {% set pk = pks[loop.index-1] %}
        {% if actions %}
            &lt;input id=&quot;{{pk}}&quot; class=&quot;action_check&quot; name=&quot;rowid&quot; value=&quot;{{pk}}&quot; type=&quot;checkbox&quot;&gt;
        {% endif %}
        {% if can_show or can_edit or can_delete %}
            {{ lib.btn_crud(can_show, can_edit, can_delete, pk, modelview_name, filters) }}
        {% endif %}
        &lt;/div&gt;

        {% for value in include_columns %}
            &lt;p {{ item[value]|safe }}&lt;/p&gt;
        {% endfor %}
    {% endfor %}
{% endblock %}
</pre></div>
</div>
<p>This example will just use two blocks <strong>list_header</strong> and <strong>begin_loop_values</strong>.
On <strong>list_header</strong> we are rendering an extra button/link to a class method.
Notice that first we call <strong>super()</strong> so that our control will be placed next to
pagination, add button and back button</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you just want to add a new control next to the list controls and keep everything else
from the predefined widget. extend your widget from {% extends &#8216;appbuilder/general/widgets/list.html&#8217; %}
and just implement <strong>list_header</strong> the way it&#8217;s done on this example.</p>
</div>
<p>Next we will render the values of the list, so we will override the <strong>begin_loop_values</strong>
block. Widgets have the following jinja2 vars that you should use:</p>
<ul class="simple">
<li>can_show: Boolean, if the user as access to the show view.</li>
<li>can_edit: Boolean, if the user as access to the edit view.</li>
<li>can_add: Boolean, if the user as access to the add view.</li>
<li>can_delete: Boolean, if the user as access to delete records.</li>
<li>value_columns: A list of Dicts with column names as keys and record values as values.</li>
<li>include_columns: A list with columns to include on the list, and their order.</li>
<li>order_columns: A list with the columns that can be ordered.</li>
<li>pks: A list of primary key values.</li>
<li>actions: A list of declared actions.</li>
<li>modelview_name: The name of the ModelView class responsible for controling this template.</li>
</ul>
<p>Save your widget template on your templates folder. I advise you to create a
subfolder named <em>widgets</em>. So on our example we will keep our template on
<em>/templates/widgets/my_list.html</em>.</p>
<ul>
<li><p class="first">Next we must create our python class to contain our widget. on your <strong>app</strong> folder
create a file named widgets.py:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask_appbuilder.widgets</span> <span class="kn">import</span> <span class="n">ListWidget</span>


<span class="k">class</span> <span class="nc">MyListWidget</span><span class="p">(</span><span class="n">ListWidget</span><span class="p">):</span>
     <span class="n">template</span> <span class="o">=</span> <span class="s">&#39;widgets/my_list.html&#39;</span>
</pre></div>
</div>
</li>
<li><p class="first">Finnaly use your new widget on your views:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">MyModel</span><span class="p">)</span>
    <span class="n">list_widget</span> <span class="o">=</span> <span class="n">MyListWidget</span>
</pre></div>
</div>
</li>
</ul>
<p>Flask-AppBuilder aready has some widgets you can choose from, try them out:</p>
<ul class="simple">
<li>ListWidget - The default for lists.</li>
<li>ListLinkWidget - The default for lists.</li>
<li>ListThumbnail - For lists, nice to use with photos.</li>
<li>ListItem - Very simple list of items.</li>
<li>ListBlock - For lists, Similar to thumbnail.</li>
<li>FormWidget - For add and edit.</li>
<li>FormHorizontalWidget - For add and edit.</li>
<li>FormInlineWidget - For add and edit</li>
<li>ShowWidget - For show view.</li>
<li>ShowBlockWidget - For show view.</li>
<li>ShowVerticalWidget - For show view.</li>
</ul>
<p>Take a look at the <a class="reference external" href="https://github.com/dpgaspar/Flask-AppBuilder/tree/master/examples/widgets">widgets</a> example.</p>
</div>
<div class="section" id="library-functions">
<h2>Library Functions<a class="headerlink" href="#library-functions" title="Permalink to this headline">¶</a></h2>
<p>F.A.B. has the following library functions that you can use to render bootstrap 3
components easily. Using them will ease your productivity and help you introduce
new html that shares the same look and feel has the framework.</p>
<ul>
<li><p class="first">Panel component:</p>
<div class="highlight-python"><div class="highlight"><pre>{{ lib.panel_begin(&quot;Panel&#39;s Title&quot;) }}
    Your html goes here
{{ lib.panel_end() }}
</pre></div>
</div>
</li>
<li><p class="first">Accordion (pass your view&#8217;s name, or something that will serve as an id):</p>
<div class="highlight-python"><div class="highlight"><pre>{% call lib.accordion_tag(view.__class__.__name__,&quot;Accordion Title&quot;, False) %}
    Your HTML goes here
{% endcall %}
</pre></div>
</div>
</li>
</ul>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Daniel Vaz Gaspar.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>